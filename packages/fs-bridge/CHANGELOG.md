# @ucdjs/fs-bridge

## [0.2.0](https://github.com/ucdjs/ucd/compare/@ucdjs/fs-bridge@0.1.0...@ucdjs/fs-bridge@0.2.0) (2025-11-16)

### Bug Fixes

* fix(fs-bridge): improve error handling in `handleError` function ([4ad7725c](https://github.com/ucdjs/ucd/commit/4ad7725c82ccb107d35d2ca405c0c469c4fc0b82))
* fix(fs-bridge): convert strings to errors ([e5da9589](https://github.com/ucdjs/ucd/commit/e5da95891c6d22233cd2f60769585e45a68e14e9))
* fix: update file paths to include 'extracted' prefix (#371) ([#371](https://github.com/ucdjs/ucd/issues/371)) ([2f455a5f](https://github.com/ucdjs/ucd/commit/2f455a5f8abb5da0e3bc5d1da30b156579b63243))
* fix(fs-bridge): make hooks call asynchronous and ensure proper error handling ([32d96256](https://github.com/ucdjs/ucd/commit/32d962567f775e11415f5e85c59afe46980b3dd5))
* fix(fs-bridge): replace `hooxs` with `hookable` and update hook method calls ([666ac4c1](https://github.com/ucdjs/ucd/commit/666ac4c173c9177b07aa26bf19350fb836adce32))
* fix(fs-bridge): update `entries` type in hook payload to use `FSEntry[]` ([96d73c06](https://github.com/ucdjs/ucd/commit/96d73c06dc4d0e446640b7a7c0627afb3fc72a3d))
* fix(fs-bridge): correct unsupported operation handling in defineFileSystemBridge ([722f516c](https://github.com/ucdjs/ucd/commit/722f516c7f6518dfdbdc7725f2da6a72b3505f7b))
* fix(fs-bridge): use `structuredClone` for state in `defineFileSystemBridge` ([cb28a42e](https://github.com/ucdjs/ucd/commit/cb28a42eca70bbcdaf2a8d3425721de7bef21bf9))
* fix(fs-bridge): set default type for TOptionsSchema in defineFileSystemBridge ([a37a81c2](https://github.com/ucdjs/ucd/commit/a37a81c2b5c0adc5c130312fce50a6e1697f0713))
* fix(fs-bridge): improve error handling during bridge setup ([efad5a3a](https://github.com/ucdjs/ucd/commit/efad5a3a4d5bfabeb7fd83e27bd7eebc57b07aa4))
* fix(fs-bridge): enhance error handling with PathUtilsBaseError ([87bb2163](https://github.com/ucdjs/ucd/commit/87bb21639252ed895ec3e67f8a158911bb4339be))
* fix(fs-bridge): improve proxy method handling in defineFileSystemBridge ([93bc2610](https://github.com/ucdjs/ucd/commit/93bc2610e0aab663000c3bd26f54d615cf6a2d77))
* fix(fs-bridge): refine error handling and type assertions in proxy methods ([b93ae49e](https://github.com/ucdjs/ucd/commit/b93ae49e7d413efb1d74ef94f21360ed36619f9a))
* fix(fs-bridge): enhance error handling for promise operations ([9c054b6f](https://github.com/ucdjs/ucd/commit/9c054b6f51cf6a3c633855ac1fa9740f14a35af8))
* fix(fs-bridge): refine constructor for BridgeBaseError and remove duplicate class definition ([1147df55](https://github.com/ucdjs/ucd/commit/1147df55c2546866e3230dcdbdc949c469bba937))
* fix(fs-bridge): refine type assertion for original method in proxy ([b7c733dd](https://github.com/ucdjs/ucd/commit/b7c733dd6ed1ac420d80273e275125e1e19955d2))
* fix(fs-bridge): refine type assertion for original method in proxy ([13043af5](https://github.com/ucdjs/ucd/commit/13043af591eb21cbac1999a6d12768da3daad81a))
* fix(fs-bridge): improve error handling in proxy methods ([798c9cb4](https://github.com/ucdjs/ucd/commit/798c9cb4ec34b25f9f416af1e8bf0f53d5fc2686))
* fix(fs-bridge): ensure original method context is preserved in proxy ([e0453470](https://github.com/ucdjs/ucd/commit/e0453470288b7d998a3254b814f04a0eed786502))
* fix(ucd-store): improve error messaging and initialization logic ([dad79c58](https://github.com/ucdjs/ucd/commit/dad79c580ec37c2bd75c6cb2faaca3ada733ddbf))
* fix(fs-bridge): improve error handling for HEAD requests ([261cf461](https://github.com/ucdjs/ucd/commit/261cf4611edc6bc2fc981e4521684e0c530d8262))
* fix(fs-bridge): improve error handling for invalid URL encoding in path resolution ([a5ef25cf](https://github.com/ucdjs/ucd/commit/a5ef25cff9ddc98b2c7bf55c9ae324ba6668f115))
* fix(fs-bridge): improve error messaging for dangerous control characters in path resolution ([98dd1c02](https://github.com/ucdjs/ucd/commit/98dd1c023dd428a9ddbe3e45517d776b0ab99bdf))
* fix(fs-bridge): enhance error handling and directory listing logic ([02be1238](https://github.com/ucdjs/ucd/commit/02be1238ee1e5a63ce75d8e44385bc36c4b3a256))

### Features

* feat(fs-bridge): add utility functions for hook payload construction and operation wrapping ([f90f3b87](https://github.com/ucdjs/ucd/commit/f90f3b873044aaecac01aa96df13b2adc58582be))
* feat(fs-bridge): upgrade hookable (#378) ([#378](https://github.com/ucdjs/ucd/issues/378)) ([4591756b](https://github.com/ucdjs/ucd/commit/4591756bac443dd4b2a7c1c7e0f66e4d69edb11b))
* feat(fs-bridge): add `encoding` property to hook payload for `write:before` ([c5de8fbe](https://github.com/ucdjs/ucd/commit/c5de8fbeba60bb699bfd5443dade1c3abcf0bfee))
* feat(fs-bridge): enhance hook payload types and improve type safety ([677ab0e2](https://github.com/ucdjs/ucd/commit/677ab0e27ef74a5842cf3655ff8d9dbefc06ff5c))
* feat(fs-bridge): enhance `rm` operation payload and update hook signatures ([6ef1d6d2](https://github.com/ucdjs/ucd/commit/6ef1d6d2d98de13706656a77b987f0677a373498))
* feat(fs-bridge): define supported bridge operations ([4a2df972](https://github.com/ucdjs/ucd/commit/4a2df97258d9e551ba5768756e6ce2ac39cd826f))
* feat(fs-bridge): integrate hooks for file system operations ([9e8dbe64](https://github.com/ucdjs/ucd/commit/9e8dbe6444a291ee7f590ca63468d0567cbd14c5))
* feat(fs-bridge): add `hasCapability` function to guard bridge capabilities ([7df47eb7](https://github.com/ucdjs/ucd/commit/7df47eb7d4a8f71f533dece8eb451b4bbb241456))
* feat(fs-bridge): add FileSystemBridgeFactory type export ([8d42c7f9](https://github.com/ucdjs/ucd/commit/8d42c7f9165b6c11cd84b26f9bb04b77251ec0f0))
* feat(shared): migrate utilities to @ucdjs-internal/shared ([4d7588fd](https://github.com/ucdjs/ucd/commit/4d7588fde6943006a59e89fc8338dc0078f347a9))
* feat(fs-bridge): add support for data mirroring in FileSystemBridgeMetadata ([f5df4435](https://github.com/ucdjs/ucd/commit/f5df4435bdaeb482eec7821d05bbc4c9a44fa55a))
* feat(fs-bridge): make metadata optional in FileSystemBridge interfaces ([9f202d0a](https://github.com/ucdjs/ucd/commit/9f202d0a5795cf1a19ddf9be61ce4bb926b72afd))
* feat(fs-bridge): add metadata and descriptive fields to HTTP and Node.js bridges ([7bf84348](https://github.com/ucdjs/ucd/commit/7bf84348f754296579d7965fc65e8a58aee09c04))
* feat(fs-bridge): enhance FileSystemBridge with metadata and descriptive fields ([a35231e3](https://github.com/ucdjs/ucd/commit/a35231e30985f277af04a005380923a49e90ef42))
* feat(fs-bridge): add BridgeSetupError class for enhanced error handling ([473b7255](https://github.com/ucdjs/ucd/commit/473b7255bfc71e33547c9b95cb68f6dfffb3aa04))
* feat(fs-bridge): integrate `resolveSafePath` into file system bridge setup ([5cadac4d](https://github.com/ucdjs/ucd/commit/5cadac4df129cace5b6c4ded1b760853eed5c646))
* feat(fs-bridge): add path resolution functions for security ([c9ff1916](https://github.com/ucdjs/ucd/commit/c9ff19164fb0d352ad18e6fa24fd72c49a28d9d2))
* feat(web): update TypeScript configuration and add tsconfig dependency ([fcd13059](https://github.com/ucdjs/ucd/commit/fcd13059257d336b31620a5fd64fc2cdff0192e9))
* feat(ucd-store): add UCDStoreInvalidManifestError and improve error handling ([69d3d780](https://github.com/ucdjs/ucd/commit/69d3d780cddd8df93f6a03b4f4dc5ddac5de8e37))
* feat(fs-bridge): support Uint8Array ([2f554138](https://github.com/ucdjs/ucd/commit/2f554138b55bd5e0624071f0798e5f40ef6cb651))
* feat(fs-bridge): implement capability assertion and error handling ([43ef6402](https://github.com/ucdjs/ucd/commit/43ef6402e9e539353fc20adb9ca6b7c3389b9767))
* feat(fs-bridge): enhance `resolveSafePath` to handle absolute paths within base ([c82c2f65](https://github.com/ucdjs/ucd/commit/c82c2f65aecabd535d70ad427200f628385aa65e))
* feat(fs-bridge): enhance path resolution security and add tests for root base behavior ([e00d95c7](https://github.com/ucdjs/ucd/commit/e00d95c720ce0c9bced7a06fe636b1b83a68605c))
* feat(fs-bridge): enhance path validation and security measures ([a49c12f4](https://github.com/ucdjs/ucd/commit/a49c12f466bf5d395e0ac298aeab17009df82186))
* feat(ucd-store): update UCD store schemas and handling ([8b90a374](https://github.com/ucdjs/ucd/commit/8b90a3741bc8d46ae9ab2764f94c2ef041e00689))
* feat(fs-bridge): update import paths for fs-bridge module ([8060e4de](https://github.com/ucdjs/ucd/commit/8060e4deeb393d330404ab4a50dd01770310bbe5))
* feat(fs-bridge): add internal debug symbol and update exports ([b0d5d5d0](https://github.com/ucdjs/ucd/commit/b0d5d5d0e00d16de02d4ef25183701e7ee0ab2e2))
* feat(ucd-store): update internal debug symbol and enhance type safety ([df963c65](https://github.com/ucdjs/ucd/commit/df963c65121041eee6b8ec63df03f2452783843e))
* feat(fs-bridge): add debug symbol to file system bridge ([6763abcd](https://github.com/ucdjs/ucd/commit/6763abcd8202777afdfb418e185f1b548e9c713c))
* feat(fs-bridge): update import paths and module exports ([99e60ad0](https://github.com/ucdjs/ucd/commit/99e60ad091d26c32ec4c6d89667acca6b4a42c74))
* feat(fs-bridge): add HTTP and Node file system bridges with comprehensive tests ([5bc90ebc](https://github.com/ucdjs/ucd/commit/5bc90ebcf5e20e11f4d209983975fa732d57cc3f))

### Refactoring

* refactor(fs-bridge): refactor file system bridge operations and introduce operation wrappers ([b0db2a05](https://github.com/ucdjs/ucd/commit/b0db2a052d26bb21a88a18d202b72f367397b7af))
* refactor: rename `.on` to `.hook` (#377) ([#377](https://github.com/ucdjs/ucd/issues/377)) ([2a444735](https://github.com/ucdjs/ucd/commit/2a444735b6c09b4a5df8c79a580d00acb7511ab2))
* refactor(fs-bridge): update capability types to use `OptionalCapabilityKey` ([956d8301](https://github.com/ucdjs/ucd/commit/956d8301a592b01be5dbb239738cb3b2bf3d3134))
* refactor(fs-bridge): enhance capability handling in file system bridge ([5e5bf2f1](https://github.com/ucdjs/ucd/commit/5e5bf2f11eef8ccc102c5c39313aa505c0b861ea))
* refactor(fs-bridge): improve bridge capabilities handling ([680b2ddb](https://github.com/ucdjs/ucd/commit/680b2ddbb59c808ae44a10447cd6fabc0280c39f))
* refactor(fs-bridge): prefer for bridge capability change ([0a9500e4](https://github.com/ucdjs/ucd/commit/0a9500e4f2f98f89bd4ebfbfae377693c5eccc0c))
* refactor(fs-bridge): rename `metadata` to `meta` in bridge definitions ([1dd5e3f1](https://github.com/ucdjs/ucd/commit/1dd5e3f1d4d46290be8a051005fce145426feb22))
* refactor(fs-bridge): update metadata structure for HTTP and Node.js bridges ([20994031](https://github.com/ucdjs/ucd/commit/209940314ef9b0f0aba641386d690ceb801d1fe5))
* refactor(fs-bridge): enhance FileSystemBridge metadata structure ([083d923b](https://github.com/ucdjs/ucd/commit/083d923b44c587b245eed54f3a8e59bf3f789d20))
* refactor(tsdown-config): update package references to @ucdjs-tooling/tsdown-config ([ccc002da](https://github.com/ucdjs/ucd/commit/ccc002dafd139e0b08e55098470f7a2a8af361ab))
* refactor: update tsconfig references to use @ucdjs-tooling/tsconfig ([e5c39ac8](https://github.com/ucdjs/ucd/commit/e5c39ac8d2e0ad1cc4a29e4417013ed124c83801))
* refactor(fs-bridge): explicitly export error classes from errors module ([4d3088c1](https://github.com/ucdjs/ucd/commit/4d3088c1be33d07264f353173cfa2b898a7e526f))
* refactor(fs-bridge): remove unused utility functions and clean up imports ([a0bb2569](https://github.com/ucdjs/ucd/commit/a0bb2569bdf506866b6bd86a7fe1cc7e2915c827))
* refactor(path-utils): swap parameters for consistency ([2264cfa4](https://github.com/ucdjs/ucd/commit/2264cfa423e235ce6191ad58823d14439bf1dada))
* refactor(fs-bridge): update `zod` version to 4.1.5 ([68ff4595](https://github.com/ucdjs/ucd/commit/68ff459549f4e59ac80c1f6365fe1ac6c58f9dd1))
* refactor(fs-bridge): replace error message in `resolveSafePath` with `BridgePathTraversal` ([b2e9db55](https://github.com/ucdjs/ucd/commit/b2e9db55382a7f2e54a2795ea144314d5b5b73a8))
* refactor(fs-bridge): rename `path` to `accessedPath` in `BridgePathTraversal` error class ([edca2a2f](https://github.com/ucdjs/ucd/commit/edca2a2f626a2ca3164a57cd57defa8a04b317db))
* refactor(fs-bridge): update `baseUrl` schema and enhance path resolution ([9fc6f14a](https://github.com/ucdjs/ucd/commit/9fc6f14acc65aef56825e32e8d46d029d0b17b58))
* refactor(fs-bridge): remove `resolveSafePath` and `isWithinBase` functions ([8f7080dd](https://github.com/ucdjs/ucd/commit/8f7080dd48bcf3603ee9261829bc5e5b9e9ccd72))
* refactor(fs-bridge): enhance error handling in proxy methods ([1ea29cf8](https://github.com/ucdjs/ucd/commit/1ea29cf8510917f5d24e6355e7da06f935718cb8))
* refactor(fs-bridge): consolidate error classes under BridgeBaseError ([7151e5b7](https://github.com/ucdjs/ucd/commit/7151e5b75ab4b813f0e0427574909d2b72632826))
* refactor(fs-bridge): add additional error classes for better error handling ([52c9ffc0](https://github.com/ucdjs/ucd/commit/52c9ffc042fce9edfd4f31dc15318cf8287c12ae))
* refactor(fs-bridge): move BridgeUnsupportedOperation to a new errors module ([65ac0554](https://github.com/ucdjs/ucd/commit/65ac0554f6488a4868fbca945fd65d179b07c130))
* refactor: migrate `flattenFilePaths` imports from `@ucdjs/utils` to `@ucdjs/shared` ([49318725](https://github.com/ucdjs/ucd/commit/49318725c45c27dad6354ff4b0faf6bc4da795fa))
* refactor(fs-bridge): add internal documentation for capability inference function ([1dfe4c89](https://github.com/ucdjs/ucd/commit/1dfe4c890de994cee6b76e84de7c82bef8dd70e1))
* refactor(fs-bridge): enhance capability assertion with custom error handling ([91d1ee9f](https://github.com/ucdjs/ucd/commit/91d1ee9f33cf03ee212af7a1f3bf8f0993f2302b))
* refactor(fs-bridge): remove capabilities from bridge definition ([443e582f](https://github.com/ucdjs/ucd/commit/443e582f4ab7fb947033b3a35e0bc3fe4c03a816))
* refactor(ucd-store): update FileSystemBridge integration and capabilities handling ([c2f7e5d3](https://github.com/ucdjs/ucd/commit/c2f7e5d3d05170bd6a83697572b2f454a6d86dcb))
* refactor(fs-bridge): enhance FileSystemBridge capabilities and update type definitions ([be7b3939](https://github.com/ucdjs/ucd/commit/be7b39397991aab6b855768c8026bd788388cdee))
* refactor(store): improve file path handling and analysis logic ([3d586c5b](https://github.com/ucdjs/ucd/commit/3d586c5b14d8f0e49c4fc107a0a4fb4f674ba239))
* refactor(fs-bridge): streamline path resolution and safety checks ([340eb3e1](https://github.com/ucdjs/ucd/commit/340eb3e164ef4d069ddfb224513feb562b0fc16a))

### Miscellaneous

* Merge remote-tracking branch 'origin/main' into bridge-try-catch ([c1682e3e](https://github.com/ucdjs/ucd/commit/c1682e3e2281d2baa131b47e6187e38b363e223a))
* Merge remote-tracking branch 'origin/main' into store ([dfc880dd](https://github.com/ucdjs/ucd/commit/dfc880dd94e58804d8ebefc0a388b51b25d2d5aa))
* Merge branch 'main' into store ([06b7fdcc](https://github.com/ucdjs/ucd/commit/06b7fdccacdec1c89b58bb09c44c016dc08ea752))
